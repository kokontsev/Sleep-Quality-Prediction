# Прогнозирование качества сна на основе данных физической активности

Данный репозиторий содержит код и материалы выпускной квалификационной работы на тему:

**«Разработка модели прогнозирования качества сна на основе данных датчиков физической активности»**

В работе используются данные носимых устройств (Fitabase / Bellabeat), включающие показатели дневной физической активности и параметры сна пользователей.

---

## 1. Описание данных

В качестве исходных данных используется набор **Fitabase Data**, распространяемый на платформе Kaggle и применяемый в Bellabeat case study.  
Датасет содержит агрегированные дневные, почасовые и минутные показатели активности, а также параметры сна пользователей фитнес-трекеров.

В рамках данной работы используются **только агрегированные дневные данные**, что обеспечивает баланс между информативностью и методической простотой.

### Используемые файлы:
- `dailyActivity_merged.csv` — суммарная дневная активность
- `dailySteps_merged.csv` — количество шагов
- `dailyCalories_merged.csv` — энергозатраты
- `dailyIntensities_merged.csv` — интенсивность активности
- `sleepDay_merged.csv` — параметры сна

Минутные и секундные данные (heart rate, minute-level activity) в анализе не используются.

---

## 2. Цель и постановка задачи

**Цель работы** — разработка и анализ моделей прогнозирования показателей качества сна пользователя на основе данных о его физической активности в течение предыдущего дня.

**Задачи:**
1. Провести предварительный анализ и очистку данных.
2. Сформировать единую аналитическую таблицу «пользователь × ночь сна».
3. Выполнить feature engineering на основе показателей активности.
4. Построить и сравнить модели прогнозирования качества сна.
5. Проанализировать вклад факторов физической активности в показатели сна.

---

## 3. Формализация задачи машинного обучения

### Объект прогнозирования
Параметры сна пользователя за ночь.

### Основная целевая переменная
**Sleep Efficiency**, определяемая как отношение времени сна ко времени, проведённому в постели:
$SleepEfficiency = TotalMinutesAsleep / TotalTimeInBed$
Дополнительно могут рассматриваться:
- общее время сна,
- классификация качества сна (низкое / среднее / высокое).

---

## 4. Методологические допущения

- Одна строка итоговой таблицы соответствует **одной ночи сна одного пользователя**.
- Физическая активность за день сопоставляется со сном **следующей ночи**.
- Анализ проводится на уровне дневных агрегатов.
- Пользователи с недостаточным числом наблюдений могут быть исключены на этапе очистки данных.

---

## 5. Структура проекта
project/
│
├── data/
│ ├── raw/
│ │ └── fitabase/ # исходные CSV-файлы
│ └── processed/ # подготовленные датасеты
│
├── notebooks/
│ ├── 01_import_merge.ipynb # импорт и объединение данных
│ ├── 02_eda.ipynb # разведочный анализ данных
│ ├── 03_feature_engineering.ipynb
│ └── 04_models.ipynb # построение и оценка моделей
│
├── README.md
